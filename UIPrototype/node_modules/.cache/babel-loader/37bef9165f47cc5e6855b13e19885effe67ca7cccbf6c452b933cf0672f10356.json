{"ast":null,"code":"var _jsxFileName = \"G:\\\\sework\\\\UIPrototype\\\\src\\\\components\\\\DataManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Trash2, Clock, Database, Settings, Save, AlertTriangle, CheckCircle, ArrowLeft, Download, Upload, RefreshCw } from 'lucide-react';\nimport { dataAPI, chatAPI, historyAPI } from '../services/api';\nimport './DataManagement.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DataManagement = ({\n  user,\n  onLogout\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [settings, setSettings] = useState({\n    autoDelete: true,\n    retentionDays: 30,\n    maxChatCount: 100,\n    protectedChats: 10\n  });\n  const [stats, setStats] = useState({\n    totalChats: 0,\n    oldChats: 0,\n    protectedChats: 0,\n    totalSize: '0 MB',\n    lastCleanup: null,\n    totalMessages: 0\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [confirmAction, setConfirmAction] = useState(null);\n  const [isLoadingData, setIsLoadingData] = useState(true);\n  const [saveStatus, setSaveStatus] = useState('');\n\n  // 加载数据\n  useEffect(() => {\n    loadData();\n  }, []);\n  const loadData = async () => {\n    try {\n      setIsLoadingData(true);\n\n      // 并行获取数据\n      const [settingsResponse, statisticsResponse, historyStatsResponse] = await Promise.all([dataAPI.getSettings().catch(err => {\n        console.warn('获取设置失败:', err);\n        return {\n          autoDelete: true,\n          retentionDays: 30,\n          maxChatCount: 100,\n          protectedChats: 10\n        };\n      }), dataAPI.getStatistics().catch(err => {\n        console.warn('获取统计失败:', err);\n        return {\n          totalChats: 0,\n          oldChats: 0,\n          protectedChats: 0,\n          totalSize: '0 MB'\n        };\n      }), historyAPI.getStats().catch(err => {\n        console.warn('获取历史统计失败:', err);\n        return {\n          totalChats: 0,\n          totalMessages: 0\n        };\n      })]);\n\n      // 设置状态\n      if (settingsResponse) {\n        setSettings(settingsResponse);\n      }\n\n      // 合并统计数据\n      const combinedStats = {\n        ...statisticsResponse,\n        ...historyStatsResponse,\n        lastCleanup: new Date().toLocaleString()\n      };\n      setStats(combinedStats);\n    } catch (error) {\n      console.error('加载数据失败:', error);\n    } finally {\n      setIsLoadingData(false);\n    }\n  };\n\n  // 保存设置\n  const handleSaveSettings = async () => {\n    try {\n      setIsLoading(true);\n      setSaveStatus('saving');\n      await dataAPI.updateSettings(settings);\n      setSaveStatus('success');\n      setTimeout(() => setSaveStatus(''), 3000);\n    } catch (error) {\n      console.error('保存设置失败:', error);\n      setSaveStatus('error');\n      setTimeout(() => setSaveStatus(''), 3000);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 立即清理\n  const handleImmediateCleanup = () => {\n    setConfirmAction('cleanup');\n    setShowConfirm(true);\n  };\n\n  // 删除所有数据\n  const handleDeleteAllData = () => {\n    setConfirmAction('deleteAll');\n    setShowConfirm(true);\n  };\n\n  // 导出数据\n  const handleExportData = async () => {\n    try {\n      setIsLoading(true);\n      const data = await dataAPI.exportData();\n\n      // 创建下载链接\n      const blob = new Blob([JSON.stringify(data, null, 2)], {\n        type: 'application/json'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `chat-data-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    } catch (error) {\n      console.error('导出数据失败:', error);\n      alert('导出数据失败，请重试');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 确认操作\n  const confirmOperation = async () => {\n    try {\n      setIsLoading(true);\n      setShowConfirm(false);\n      if (confirmAction === 'cleanup') {\n        await dataAPI.cleanup();\n        alert('清理完成！删除了过期的对话记录。');\n        loadData(); // 重新加载数据\n      } else if (confirmAction === 'deleteAll') {\n        await dataAPI.deleteAll('CONFIRM_DELETE');\n        alert('所有非保护数据已删除！');\n        loadData(); // 重新加载数据\n      }\n    } catch (error) {\n      console.error('操作失败:', error);\n      alert(error.message || '操作失败，请重试');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 刷新数据\n  const handleRefresh = () => {\n    loadData();\n  };\n\n  // 获取存储使用情况颜色\n  const getStorageColor = () => {\n    if (!(stats !== null && stats !== void 0 && stats.totalSize)) return '#10b981';\n    const sizeStr = stats.totalSize.toString();\n    const sizeNum = parseFloat(sizeStr);\n    if (sizeNum < 1) return '#10b981'; // 绿色\n    if (sizeNum < 5) return '#f59e0b'; // 橙色\n    return '#ef4444'; // 红色\n  };\n\n  // 计算过期对话数\n  const calculateOldChats = () => {\n    const totalChats = stats.totalChats || 0;\n    const protectedChats = stats.protectedChats || 0;\n    const retentionDays = settings.retentionDays || 30;\n\n    // 简单估算：假设有10%的对话是过期的\n    return Math.floor((totalChats - protectedChats) * 0.1);\n  };\n  if (isLoadingData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-management\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u52A0\\u8F7D\\u4E2D...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"data-management\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-button\",\n        onClick: () => navigate('/dashboard'),\n        children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), \"\\u8FD4\\u56DE\\u4E3B\\u754C\\u9762\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u6570\\u636E\\u7BA1\\u7406\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u7BA1\\u7406\\u60A8\\u7684\\u5BF9\\u8BDD\\u6570\\u636E\\uFF0C\\u8BBE\\u7F6E\\u81EA\\u52A8\\u6E05\\u7406\\u89C4\\u5219\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"refresh-btn\",\n          onClick: handleRefresh,\n          disabled: isLoading,\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), \"\\u5237\\u65B0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: (user === null || user === void 0 ? void 0 : user.username) || (user === null || user === void 0 ? void 0 : user.name)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onLogout,\n            className: \"logout-btn\",\n            children: \"\\u9000\\u51FA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dm-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            style: {\n              background: '#3b82f6'\n            },\n            children: /*#__PURE__*/_jsxDEV(Database, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.totalChats\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u603B\\u5BF9\\u8BDD\\u6570\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            style: {\n              background: '#f59e0b'\n            },\n            children: /*#__PURE__*/_jsxDEV(Clock, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: calculateOldChats()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u8FC7\\u671F\\u5BF9\\u8BDD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            style: {\n              background: '#10b981'\n            },\n            children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.protectedChats || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u4FDD\\u62A4\\u5BF9\\u8BDD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            style: {\n              background: getStorageColor()\n            },\n            children: /*#__PURE__*/_jsxDEV(Database, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.totalSize\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u5B58\\u50A8\\u5360\\u7528\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            style: {\n              background: '#8b5cf6'\n            },\n            children: /*#__PURE__*/_jsxDEV(Database, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.totalMessages || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u603B\\u6D88\\u606F\\u6570\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), stats.lastCleanup && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"last-cleanup\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u4E0A\\u6B21\\u6570\\u636E\\u66F4\\u65B0\\uFF1A\", stats.lastCleanup]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(Settings, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u81EA\\u52A8\\u6E05\\u7406\\u8BBE\\u7F6E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"setting-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: settings.autoDelete,\n                onChange: e => setSettings({\n                  ...settings,\n                  autoDelete: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this), \"\\u542F\\u7528\\u81EA\\u52A8\\u6E05\\u7406\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"setting-desc\",\n              children: \"\\u81EA\\u52A8\\u5220\\u9664\\u8FC7\\u671F\\u7684\\u5BF9\\u8BDD\\u8BB0\\u5F55\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"setting-label\",\n              children: [\"\\u4FDD\\u7559\\u5929\\u6570\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"1\",\n                max: \"365\",\n                value: settings.retentionDays,\n                onChange: e => setSettings({\n                  ...settings,\n                  retentionDays: parseInt(e.target.value)\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"setting-desc\",\n              children: \"\\u5BF9\\u8BDD\\u8BB0\\u5F55\\u4FDD\\u7559\\u7684\\u5929\\u6570\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"setting-label\",\n              children: [\"\\u6700\\u5927\\u5BF9\\u8BDD\\u6570\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"10\",\n                max: \"1000\",\n                value: settings.maxChatCount,\n                onChange: e => setSettings({\n                  ...settings,\n                  maxChatCount: parseInt(e.target.value)\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"setting-desc\",\n              children: \"\\u5355\\u4E2A\\u7528\\u6237\\u6700\\u5927\\u5BF9\\u8BDD\\u6570\\u91CF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"save-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `save-btn ${saveStatus}`,\n            onClick: handleSaveSettings,\n            disabled: isLoading,\n            children: [/*#__PURE__*/_jsxDEV(Save, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), isLoading ? '保存中...' : saveStatus === 'success' ? '保存成功' : saveStatus === 'error' ? '保存失败' : '保存设置']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), saveStatus === 'success' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"save-message success\",\n            children: \"\\u8BBE\\u7F6E\\u5DF2\\u4FDD\\u5B58\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this), saveStatus === 'error' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"save-message error\",\n            children: \"\\u4FDD\\u5B58\\u5931\\u8D25\\uFF0C\\u8BF7\\u91CD\\u8BD5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(Database, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u6570\\u636E\\u64CD\\u4F5C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actions-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u7ACB\\u5373\\u6E05\\u7406\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u6E05\\u7406\\u8FC7\\u671F\\u7684\\u5BF9\\u8BDD\\u8BB0\\u5F55\\uFF0C\\u91CA\\u653E\\u5B58\\u50A8\\u7A7A\\u95F4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn cleanup\",\n              onClick: handleImmediateCleanup,\n              disabled: isLoading,\n              children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), \"\\u5F00\\u59CB\\u6E05\\u7406\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u5BFC\\u51FA\\u6570\\u636E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u5BFC\\u51FA\\u6240\\u6709\\u5BF9\\u8BDD\\u8BB0\\u5F55\\u5230\\u672C\\u5730\\u6587\\u4EF6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn export\",\n              onClick: handleExportData,\n              disabled: isLoading,\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this), \"\\u5BFC\\u51FA\\u6570\\u636E\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-card danger\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u5220\\u9664\\u6240\\u6709\\u6570\\u636E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u6C38\\u4E45\\u5220\\u9664\\u6240\\u6709\\u975E\\u4FDD\\u62A4\\u7684\\u5BF9\\u8BDD\\u8BB0\\u5F55\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn delete\",\n              onClick: handleDeleteAllData,\n              disabled: isLoading,\n              children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 17\n              }, this), \"\\u5220\\u9664\\u5168\\u90E8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), showConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confirm-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirm-dialog\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirm-header\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n            size: 24,\n            className: \"warning-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u786E\\u8BA4\\u64CD\\u4F5C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirm-content\",\n          children: [confirmAction === 'cleanup' && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u786E\\u5B9A\\u8981\\u6E05\\u7406\\u8FC7\\u671F\\u7684\\u5BF9\\u8BDD\\u8BB0\\u5F55\\u5417\\uFF1F\\u6B64\\u64CD\\u4F5C\\u4E0D\\u53EF\\u64A4\\u9500\\u3002\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 17\n          }, this), confirmAction === 'deleteAll' && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u6240\\u6709\\u975E\\u4FDD\\u62A4\\u7684\\u5BF9\\u8BDD\\u8BB0\\u5F55\\u5417\\uFF1F\\u6B64\\u64CD\\u4F5C\\u4E0D\\u53EF\\u64A4\\u9500\\uFF01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirm-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => setShowConfirm(false),\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: confirmAction === 'deleteAll' ? 'btn-danger' : 'btn-primary',\n            onClick: confirmOperation,\n            children: \"\\u786E\\u8BA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n};\n_s(DataManagement, \"O7wESKhC/bXLP/qu6otngwI4dFE=\", false, function () {\n  return [useNavigate];\n});\n_c = DataManagement;\nexport default DataManagement;\nvar _c;\n$RefreshReg$(_c, \"DataManagement\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Trash2","Clock","Database","Settings","Save","AlertTriangle","CheckCircle","ArrowLeft","Download","Upload","RefreshCw","dataAPI","chatAPI","historyAPI","jsxDEV","_jsxDEV","DataManagement","user","onLogout","_s","navigate","settings","setSettings","autoDelete","retentionDays","maxChatCount","protectedChats","stats","setStats","totalChats","oldChats","totalSize","lastCleanup","totalMessages","isLoading","setIsLoading","showConfirm","setShowConfirm","confirmAction","setConfirmAction","isLoadingData","setIsLoadingData","saveStatus","setSaveStatus","loadData","settingsResponse","statisticsResponse","historyStatsResponse","Promise","all","getSettings","catch","err","console","warn","getStatistics","getStats","combinedStats","Date","toLocaleString","error","handleSaveSettings","updateSettings","setTimeout","handleImmediateCleanup","handleDeleteAllData","handleExportData","data","exportData","blob","Blob","JSON","stringify","type","url","window","URL","createObjectURL","a","document","createElement","href","download","toISOString","split","body","appendChild","click","revokeObjectURL","removeChild","alert","confirmOperation","cleanup","deleteAll","message","handleRefresh","getStorageColor","sizeStr","toString","sizeNum","parseFloat","calculateOldChats","Math","floor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","disabled","username","name","style","background","checked","onChange","e","target","min","max","value","parseInt","_c","$RefreshReg$"],"sources":["G:/sework/UIPrototype/src/components/DataManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { \n  Trash2, \n  Clock, \n  Database, \n  Settings, \n  Save, \n  AlertTriangle, \n  CheckCircle, \n  ArrowLeft,\n  Download,\n  Upload,\n  RefreshCw\n} from 'lucide-react';\nimport { dataAPI, chatAPI, historyAPI } from '../services/api';\nimport './DataManagement.css';\n\nconst DataManagement = ({ user, onLogout }) => {\n  const navigate = useNavigate();\n  const [settings, setSettings] = useState({\n    autoDelete: true,\n    retentionDays: 30,\n    maxChatCount: 100,\n    protectedChats: 10\n  });\n  const [stats, setStats] = useState({\n    totalChats: 0,\n    oldChats: 0,\n    protectedChats: 0,\n    totalSize: '0 MB',\n    lastCleanup: null,\n    totalMessages: 0\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [confirmAction, setConfirmAction] = useState(null);\n  const [isLoadingData, setIsLoadingData] = useState(true);\n  const [saveStatus, setSaveStatus] = useState('');\n\n  // 加载数据\n  useEffect(() => {\n    loadData();\n  }, []);\n  \n  const loadData = async () => {\n    try {\n      setIsLoadingData(true);\n      \n      // 并行获取数据\n      const [settingsResponse, statisticsResponse, historyStatsResponse] = await Promise.all([\n        dataAPI.getSettings().catch(err => {\n          console.warn('获取设置失败:', err);\n          return {\n            autoDelete: true,\n            retentionDays: 30,\n            maxChatCount: 100,\n            protectedChats: 10\n          };\n        }),\n        dataAPI.getStatistics().catch(err => {\n          console.warn('获取统计失败:', err);\n          return { totalChats: 0, oldChats: 0, protectedChats: 0, totalSize: '0 MB' };\n        }),\n        historyAPI.getStats().catch(err => {\n          console.warn('获取历史统计失败:', err);\n          return { totalChats: 0, totalMessages: 0 };\n        })\n      ]);\n      \n      // 设置状态\n      if (settingsResponse) {\n        setSettings(settingsResponse);\n      }\n      \n      // 合并统计数据\n      const combinedStats = {\n        ...statisticsResponse,\n        ...historyStatsResponse,\n        lastCleanup: new Date().toLocaleString()\n      };\n      \n      setStats(combinedStats);\n      \n    } catch (error) {\n      console.error('加载数据失败:', error);\n    } finally {\n      setIsLoadingData(false);\n    }\n  };\n\n  // 保存设置\n  const handleSaveSettings = async () => {\n    try {\n      setIsLoading(true);\n      setSaveStatus('saving');\n      \n      await dataAPI.updateSettings(settings);\n      \n      setSaveStatus('success');\n      setTimeout(() => setSaveStatus(''), 3000);\n      \n    } catch (error) {\n      console.error('保存设置失败:', error);\n      setSaveStatus('error');\n      setTimeout(() => setSaveStatus(''), 3000);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 立即清理\n  const handleImmediateCleanup = () => {\n    setConfirmAction('cleanup');\n    setShowConfirm(true);\n  };\n\n  // 删除所有数据\n  const handleDeleteAllData = () => {\n    setConfirmAction('deleteAll');\n    setShowConfirm(true);\n  };\n\n  // 导出数据\n  const handleExportData = async () => {\n    try {\n      setIsLoading(true);\n      const data = await dataAPI.exportData();\n      \n      // 创建下载链接\n      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `chat-data-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      \n    } catch (error) {\n      console.error('导出数据失败:', error);\n      alert('导出数据失败，请重试');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 确认操作\n  const confirmOperation = async () => {\n    try {\n      setIsLoading(true);\n      setShowConfirm(false);\n      \n      if (confirmAction === 'cleanup') {\n        await dataAPI.cleanup();\n        alert('清理完成！删除了过期的对话记录。');\n        loadData(); // 重新加载数据\n      } else if (confirmAction === 'deleteAll') {\n        await dataAPI.deleteAll('CONFIRM_DELETE');\n        alert('所有非保护数据已删除！');\n        loadData(); // 重新加载数据\n      }\n    } catch (error) {\n      console.error('操作失败:', error);\n      alert(error.message || '操作失败，请重试');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 刷新数据\n  const handleRefresh = () => {\n    loadData();\n  };\n\n  // 获取存储使用情况颜色\n  const getStorageColor = () => {\n    if (!stats?.totalSize) return '#10b981';\n    const sizeStr = stats.totalSize.toString();\n    const sizeNum = parseFloat(sizeStr);\n    if (sizeNum < 1) return '#10b981'; // 绿色\n    if (sizeNum < 5) return '#f59e0b'; // 橙色\n    return '#ef4444'; // 红色\n  };\n\n  // 计算过期对话数\n  const calculateOldChats = () => {\n    const totalChats = stats.totalChats || 0;\n    const protectedChats = stats.protectedChats || 0;\n    const retentionDays = settings.retentionDays || 30;\n    \n    // 简单估算：假设有10%的对话是过期的\n    return Math.floor((totalChats - protectedChats) * 0.1);\n  };\n  \n  if (isLoadingData) {\n    return (\n      <div className=\"data-management\">\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\"></div>\n          <p>加载中...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"data-management\">\n      <header className=\"page-header\">\n        <button \n          className=\"back-button\"\n          onClick={() => navigate('/dashboard')}\n        >\n          <ArrowLeft size={20} />\n          返回主界面\n        </button>\n        <div className=\"header-content\">\n          <h1>数据管理</h1>\n          <p>管理您的对话数据，设置自动清理规则</p>\n        </div>\n        <div className=\"header-actions\">\n          <button \n            className=\"refresh-btn\"\n            onClick={handleRefresh}\n            disabled={isLoading}\n          >\n            <RefreshCw size={16} />\n            刷新\n          </button>\n          <div className=\"user-info\">\n            <span>{user?.username || user?.name}</span>\n            <button onClick={onLogout} className=\"logout-btn\">退出</button>\n          </div>\n        </div>\n      </header>\n      \n      <div className=\"dm-content\">\n        {/* 统计信息 */}\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\" style={{background: '#3b82f6'}}>\n              <Database size={24} />\n            </div>\n            <div className=\"stat-content\">\n              <h3>{stats.totalChats}</h3>\n              <p>总对话数</p>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\" style={{background: '#f59e0b'}}>\n              <Clock size={24} />\n            </div>\n            <div className=\"stat-content\">\n              <h3>{calculateOldChats()}</h3>\n              <p>过期对话</p>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\" style={{background: '#10b981'}}>\n              <CheckCircle size={24} />\n            </div>\n            <div className=\"stat-content\">\n              <h3>{stats.protectedChats || 0}</h3>\n              <p>保护对话</p>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\" style={{background: getStorageColor()}}>\n              <Database size={24} />\n            </div>\n            <div className=\"stat-content\">\n              <h3>{stats.totalSize}</h3>\n              <p>存储占用</p>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\" style={{background: '#8b5cf6'}}>\n              <Database size={24} />\n            </div>\n            <div className=\"stat-content\">\n              <h3>{stats.totalMessages || 0}</h3>\n              <p>总消息数</p>\n            </div>\n          </div>\n        </div>\n\n        {/* 最后清理时间 */}\n        {stats.lastCleanup && (\n          <div className=\"last-cleanup\">\n            <Clock size={16} />\n            <span>上次数据更新：{stats.lastCleanup}</span>\n          </div>\n        )}\n\n        {/* 自动清理设置 */}\n        <div className=\"settings-section\">\n          <div className=\"section-header\">\n            <Settings size={20} />\n            <h2>自动清理设置</h2>\n          </div>\n          \n          <div className=\"settings-grid\">\n            <div className=\"setting-item\">\n              <label className=\"setting-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={settings.autoDelete}\n                  onChange={(e) => setSettings({...settings, autoDelete: e.target.checked})}\n                />\n                启用自动清理\n              </label>\n              <p className=\"setting-desc\">自动删除过期的对话记录</p>\n            </div>\n\n            <div className=\"setting-item\">\n              <label className=\"setting-label\">\n                保留天数\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"365\"\n                  value={settings.retentionDays}\n                  onChange={(e) => setSettings({...settings, retentionDays: parseInt(e.target.value)})}\n                />\n              </label>\n              <p className=\"setting-desc\">对话记录保留的天数</p>\n            </div>\n\n            <div className=\"setting-item\">\n              <label className=\"setting-label\">\n                最大对话数\n                <input\n                  type=\"number\"\n                  min=\"10\"\n                  max=\"1000\"\n                  value={settings.maxChatCount}\n                  onChange={(e) => setSettings({...settings, maxChatCount: parseInt(e.target.value)})}\n                />\n              </label>\n              <p className=\"setting-desc\">单个用户最大对话数量</p>\n            </div>\n          </div>\n\n          <div className=\"save-section\">\n            <button \n              className={`save-btn ${saveStatus}`}\n              onClick={handleSaveSettings}\n              disabled={isLoading}\n            >\n              <Save size={16} />\n              {isLoading ? '保存中...' : \n               saveStatus === 'success' ? '保存成功' :\n               saveStatus === 'error' ? '保存失败' : '保存设置'}\n            </button>\n            \n            {saveStatus === 'success' && (\n              <span className=\"save-message success\">设置已保存</span>\n            )}\n            {saveStatus === 'error' && (\n              <span className=\"save-message error\">保存失败，请重试</span>\n            )}\n          </div>\n        </div>\n\n        {/* 数据操作 */}\n        <div className=\"actions-section\">\n          <div className=\"section-header\">\n            <Database size={20} />\n            <h2>数据操作</h2>\n          </div>\n          \n          <div className=\"actions-grid\">\n            <div className=\"action-card\">\n              <div className=\"action-info\">\n                <h3>立即清理</h3>\n                <p>清理过期的对话记录，释放存储空间</p>\n              </div>\n              <button \n                className=\"action-btn cleanup\"\n                onClick={handleImmediateCleanup}\n                disabled={isLoading}\n              >\n                <Trash2 size={16} />\n                开始清理\n              </button>\n            </div>\n\n            <div className=\"action-card\">\n              <div className=\"action-info\">\n                <h3>导出数据</h3>\n                <p>导出所有对话记录到本地文件</p>\n              </div>\n              <button \n                className=\"action-btn export\"\n                onClick={handleExportData}\n                disabled={isLoading}\n              >\n                <Download size={16} />\n                导出数据\n              </button>\n            </div>\n\n            <div className=\"action-card danger\">\n              <div className=\"action-info\">\n                <h3>删除所有数据</h3>\n                <p>永久删除所有非保护的对话记录</p>\n              </div>\n              <button \n                className=\"action-btn delete\"\n                onClick={handleDeleteAllData}\n                disabled={isLoading}\n              >\n                <AlertTriangle size={16} />\n                删除全部\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 确认对话框 */}\n      {showConfirm && (\n        <div className=\"confirm-overlay\">\n          <div className=\"confirm-dialog\">\n            <div className=\"confirm-header\">\n              <AlertTriangle size={24} className=\"warning-icon\" />\n              <h3>确认操作</h3>\n            </div>\n            <div className=\"confirm-content\">\n              {confirmAction === 'cleanup' && (\n                <p>确定要清理过期的对话记录吗？此操作不可撤销。</p>\n              )}\n              {confirmAction === 'deleteAll' && (\n                <p>确定要删除所有非保护的对话记录吗？此操作不可撤销！</p>\n              )}\n            </div>\n            <div className=\"confirm-actions\">\n              <button \n                className=\"btn-secondary\"\n                onClick={() => setShowConfirm(false)}\n              >\n                取消\n              </button>\n              <button \n                className={confirmAction === 'deleteAll' ? 'btn-danger' : 'btn-primary'}\n                onClick={confirmOperation}\n              >\n                确认\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DataManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}